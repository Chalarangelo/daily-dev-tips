---
import Subscribe from '../components/Subscribe.astro'

import Quote from '../components/Quote.astro'
---
<button onclick="window.subscribe.showModal()" class="m-2 p-2.5 text-sm bg-barbie-light text-white rounded-md font-semibold flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
  <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
  <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
</svg> Subscribe</button>
<dialog id="subscribe" onclick="window.subscribe.closeModal()">
<form method="dialog">
    <button class="absolute right-4 top-4 text-black"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
</svg></button>
  </form>
  <strong class="mb-2 block">Looking to get into web development?</strong>
  <p class="mb-6">I'm Chris Bongers         a full-stack remote web developer with 15+ years of experience, and I'll guide you on this journey with bite-sized tips every single day.</p>
  <Subscribe />
  <section class="flex overflow-y-scroll mt-10 pt-2">
    <Quote />
    <Quote />
    <Quote />
  </section>
</dialog>

<style lang="scss">
  dialog {
      overscroll-behavior: none;
      border-radius: 8px;
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    &::backdrop {
      position: fixed;
      top: 0px;
      right: 0px;
      bottom: 0px;
      left: 0px;
      background: rgba(255, 0, 0, 0.2);
    }
  }
</style>

<script>
function onClick(event) {
  if (event.target === dialog) {
    dialog.close();
  }
}

const dialog = document.querySelector("dialog");
dialog.addEventListener("click", onClick);
</script>