---
import BaseLayout from '../layouts/BaseLayout.astro';
import Article from '../components/Article.astro';
import Subscribe from '../components/Subscribe.astro';
import Ads from '../components/Ads.astro';
import Tag from '../components/Tag.astro';
import Webmentions from '../components/Webmentions.astro';
import RelatedArticles from '../components/RelatedArticles.astro';
import { getReadingTime } from '../lib/readingtime.js';
import {dateFilter} from '../lib/dateFilter.js';
const { content } = Astro.props;
const canonicalURL = Astro.request.canonicalURL;
const tmpUrl = `https://daily-dev-tips.com${canonicalURL.pathname}`;
const articleDate = new Date(content.date);
const isoDate = articleDate.toISOString();
---

<BaseLayout title={content.metaTitle} description={content.metaDesc} image={content.image} post={true} date={isoDate}>
  <header class="container my-6 mx-auto text-center">
    <h1
      class="bg-purple-600 text-white text-3xl rounded-md font-bold inline px-2 break-words"
    >
      {content.title}
    </h1>
    <Webmentions url={tmpUrl} type="overlap" />
  </header>

  <section
    class="bg-white dark:bg-dark border-t border-b border-gray-200 dark:border-slate-700 -mx-4 flex flex-col mb-6 py-6 md:pb-10"
  >
    <div class="container	 mx-auto">
      <Ads />
      <summary
        class="bg-indigo-50 dark:bg-slate-300 rounded-xl flex mx-4 my-6 py-6 flex-1"
      >
        <p class="px-4">‚úçÔ∏è</p>
        <div>
          <p class="mb-2 pr-6">
            {content.tldr ? content.tldr : content.metaDesc}
          </p>
          <strong class="flex text-gray-600 font-semibold"
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 mr-1"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"
              ></path>
            </svg>
            {getReadingTime(content.astro.html)} reading time (<i class=' text-gray-600'>{dateFilter(articleDate)}</i>)</strong
          >
        </div>
      </summary>

      <article
        class="prose prose-lg md:prose-xl dark:prose-invert mx-4 md:mx-auto"
      >
        <slot />
      </article>
    </div>
  </section>

  <section
    class="rounded-xl py-6 px-4 bg-white dark:bg-dark mb-10 mx-auto container"
  >
    <div class="text-lg font-medium mb-4 dark:text-white">
      Spread the knowledge <span class="text-gray-500 dark:text-gray-400"
        >with fellow developers on Twitter</span
      >
    </div>
    <a
      href="https://twitter.com/intent/tweet/?text=Chris%20wrote%20this%20amazing%20article&amp;url=https://daily-dev-tips.com/posts/git-basics-ignore-files-from-being-committed/&amp;via=DailyDevTips1"
      target="_blank"
      rel="noopener noreferrer"
      class="bg-[#1d9bf0] hover:bg-blue-400 transition-colors text-white p-3 rounded-xl text-sm inline-flex items-center"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="mr-2"
        ><path
          d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"
        ></path></svg
      > Tweet this tip</a
    >
    <Webmentions url={tmpUrl} offsetLabel={false} />
    <div class="text-xs text-gray-500 flex items-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4 mr-1"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg> Powered by Webmentions - <a
        href=""
        class="text-barbie font-medium hover:underline underline-offset-2"
        target="_blank">Learn more</a
      >
    </div>
  </section>
  <section
    class="md:bg-white md:dark:bg-dark md:-mx-4 border-top-0 md:border-t border-gray-200 md:dark:border-slate-700 md:pt-8"
  >
    <div class="container mx-auto ">
      <h2
        class="uppercase md:normal-case text-sm text-gray-700 dark:text-white tracking-wider mb-2 md:mb-0 md:text-2xl	md:font-bold"
      >
        Read next üìñ
      </h2>
    </div>
  </section>
  <section class="md:bg-white md:dark:bg-dark -mx-4 md:pt-8">
    <div class="container mx-auto ">
      <RelatedArticles tags={content.tags} currentPathname={canonicalURL.pathname} />
    </div>
  </section>

  <section
    class="border-b bg-white dark:bg-dark -mx-4  border-t md:border-t-0 border-gray-200 dark:border-slate-700 mb-10"
  >
    <div
      class="container mx-auto px-4 md:px-0 py-4 flex col-span-1 md:col-span-2"
    >
      <nav class="mb-2">
        <h3 class="leading-6 text-xl font-medium mb-4 dark:text-white">
          Discover more tips
        </h3>
        <ul class="flex">
          {content.tags.map((tag) => <Tag tag={tag} />)}
        </ul>
      </nav>
    </div>
  </section>

  <section class="mb-4 container mx-auto">
    <h4 class="leading-6 text-xl font-medium mb-4 dark:text-white">
      Hey, I am Chris üëã
    </h4>
    <p class="dark:text-gray-400">
      I'm a full-stack web developer with 15+ years of experience. <br />Every
      day I share bite-sized dev tips with 10,032 developers like you! <br />I
      would love for you to join us!
    </p>
  </section>
  <section class="mb-10">
    <Subscribe />
  </section>
</BaseLayout>
